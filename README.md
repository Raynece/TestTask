# Library Manager

Консольное приложение для управления библиотекой книг. Оно позволяет добавлять, удалять, искать, изменять статус книг и отображать список всех книг в библиотеке.

## Описание функционала

Программа предоставляет функционал для выполнения различных операций с книгами в библиотеке. Каждая книга состоит из следующих атрибутов:

- **id**: Уникальный идентификатор книги (генерируется автоматически).
- **title**: Название книги.
- **author**: Автор книги.
- **year**: Год издания книги.
- **status**: Статус книги. Два возможных значения: `"в наличии"` и `"выдана"`.

### Основные операции:

1. **Добавление книги**  
   Пользователь может добавить книгу в библиотеку, указав название, автора и год издания. Книга автоматически получит уникальный идентификатор и будет иметь статус `"в наличии"`.
   
2. **Удаление книги**  
   Книга может быть удалена по уникальному идентификатору. Если книга с указанным ID не существует, будет выведено соответствующее сообщение об ошибке.

3. **Поиск книги**  
   Пользователь может искать книги по названию, автору или году издания. Поиск регистронезависимый.

4. **Отображение всех книг**  
   Программа выводит список всех книг в библиотеке с их идентификаторами, названиями, авторами, годами издания и статусами.

5. **Изменение статуса книги**  
   Статус книги можно изменить на `"в наличии"` или `"выдана"`. Если указан неверный статус или книга с данным ID не найдена, будет выведено сообщение об ошибке.

### Структура проекта:

- **library_manager.py**  
  Главный файл с реализацией всех функций программы. Он управляет библиотекой и предоставляет интерфейс командной строки для взаимодействия с пользователем.

- **book.py**  
  Содержит класс `Book`, который представляет книгу с ее аттрибутами: id, title, author, year, status.

- **utils.py**  
  Утилитные функции для работы с файлами (загрузка и сохранение данных о книгах в формате JSON), а также генерация уникальных идентификаторов.

- **data/library_data.json**  
  Файл, который используется для хранения данных о книгах в формате JSON.

- **README.md**  
  Описание проекта, инструкция по использованию и краткое описание функционала.

### Пример использования:

1. При запуске программы пользователю будет предложено меню с доступными операциями:

**Меню**:

- **1. Добавить книгу**
- **2. Удалить книгу**
- **3. Поиск книги**
- **4. Отобразить все книги**
- **5. Изменить статус книги**
- **6. Выход**


2. Для каждой операции будет предложено ввести соответствующие данные (например, для добавления книги — название, автор и год издания).

3. Все изменения сохраняются в файл `data/library_data.json`, чтобы данные сохранялись между запусками программы.

### Хранение данных:

Данные о книгах сохраняются в формате JSON в файле `data/library_data.json`. Этот файл автоматически загружается при запуске программы и обновляется при изменении данных (добавление, удаление, изменение статуса книги).

Пример данных в файле JSON:

```json
[
    {
        "id": 1,
        "title": "1984",
        "author": "George Orwell",
        "year": 1949,
        "status": "в наличии"
    },
    {
        "id": 2,
        "title": "To Kill a Mockingbird",
        "author": "Harper Lee",
        "year": 1960,
        "status": "в наличии"
    },
    {
        "id": 3,
        "title": "Мартин Иден",
        "author": "Джек Лондон",
        "year": 1085,
        "status": "в наличии"
    }
]
```

## Тестирование

В проекте реализованы автоматические тесты для проверки ключевых функций библиотеки, таких как добавление, удаление, поиск, отображение книг и изменение их статуса. Тесты написаны с использованием стандартного модуля `unittest` и обеспечивают проверку корректности работы приложения.

### Структура тестов

Тесты находятся в файле `test_library_manager.py` и включают следующие ключевые сценарии:

1. **Добавление книги**  
   Проверяется, что книга корректно добавляется в библиотеку и ее данные сохраняются.

2. **Удаление книги**  
   Тестируется удаление книги по ID. Проверяется, что книга удаляется, а список книг уменьшается.

3. **Удаление несуществующей книги**  
   Проверяется, что попытка удалить книгу с несуществующим ID не вызывает ошибок, а возвращает `None`, при этом библиотека не изменяется.

4. **Поиск книги**  
   Проверяется корректность поиска книг по названию, автору и году издания.

5. **Изменение статуса книги**  
   Проверяется, что статус книги изменяется на "в наличии" или "выдана" в зависимости от запроса.

6. **Отображение всех книг**  
   Тестируется правильность отображения всех книг в библиотеке.

7. **Загрузка и сохранение данных**  
   Тестируется корректная работа с сохранением и загрузкой данных о книгах из JSON-файла.

